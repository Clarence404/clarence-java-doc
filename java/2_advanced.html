<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="images/logo.png"><title>Java é«˜çº§ | Clarence Java Doc</title><meta name="description" content="å®è·µæ˜¯æ£€éªŒçœŸç†çš„å”¯ä¸€æ ‡å‡†">
    <link rel="preload" href="/clarence-java-doc/assets/style-CfjadihE.css" as="style"><link rel="stylesheet" href="/clarence-java-doc/assets/style-CfjadihE.css">
    <link rel="modulepreload" href="/clarence-java-doc/assets/app-BD3_5A9s.js"><link rel="modulepreload" href="/clarence-java-doc/assets/2_advanced.html-DJoGbk05.js">
    <link rel="prefetch" href="/clarence-java-doc/assets/index.html-DLnI_4mb.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_ai.html-C4qx6wxL.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_model.html-CBfvG01i.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_ollama.html-CSeFRrZL.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_0_complexity.html-B3kKcQie.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_1_list.html-BJeIXMKr.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_2_stack_queue.html-vG38Ay51.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_3_hash.html-knH3PHil.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_4_tree.html-ByCXsmGF.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_5_heap.html-BSb_uxjU.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_6_graph.html-DDNxWpQH.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_7_search.html-BY2wRZyG.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_8_sort.html-CjvHwV0W.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_9_divide_and_conquer.html-rVqMw43H.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_a_reverse.html-BcX9DT6c.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_b_dynamic_program.html-CCqAKo0h.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base_c_greedy.html-CNBoOGny.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_leet_code.html-kS-9k7Nj.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_huawei_code.html-CUJvqky4.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_system_structure.html-DSQ3RWnL.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_cold_hot_data.html-DwoQNejg.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_database_100_.html-Cif8MmfK.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_team_git_guidelines.html-vbjzQsfa.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_mapstruct_vs_lombok.html-DekRZ9Uq.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_object_storage_service.html-BypDxD2h.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_idempotence.html-CCheXQq3.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/7_team_dev_rule.html-Bl7jgEYK.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/8_software_architecture.html-C70Yp2YT.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/9_ddd_architecture.html-BrPk5DbQ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/a_access_control_model.html-BpYY03Us.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/b_log_rule.html-DmCsuFAK.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_redis.html-BUlDuQ6S.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_caffeine.html-CctAhSXQ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_jetcache.html-CSkKnYUY.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_cache_rule.html-Ds5RkJFH.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-DVmkHK0f.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_linux.html-PVX_UiXz.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_linux_0_centos.html-BXCbkbF5.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_linux_1_ubuntun.html-CDle0_wN.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_linux_2_debian.html-DG3gQee1.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_virtual.html-Ui57x_wv.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_virtual_hyperv.html-Ve87GBG9.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_virtual_vmware.html-C-S66gT1.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_virtual_wsl.html-D6fT9-ra.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_docker.html-Dau_9lQn.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_kubernetes.html-CDTMxW2S.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_mysql.html-BZ-z1DiY.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_postgres.html-DpjjzUBu.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_other_rdbms.html-BqbTYRn4.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_orm_framework.html-BKhqIPpq.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_column_db.html-9VeyqoFk.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_distributed_db.html-BPyt09-U.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_time_series_db.html-C8DXlGZv.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_file_db.html-B9V3NRWR.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/7_search_db.html-BUxQSpun.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/8_sharding.html-D0LtuLvA.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-Cl2xaAnY.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_design.html-CnDwmo1W.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_distributed.html-Cku93M40.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_theorem.html-BF96A99d.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_gateway.html-C1Bu42LZ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_distributed_lock.html-C8DalJG6.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_distributed_transaction.html-ZxIQf2k4.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_distributed_session.html-CLekSqlg.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_high_availability.html-IC656975.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_rate_limiting.html-CUnP67G_.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_circuit_breaking.html-BB_c1s1J.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_fallback_mechanism.html-DttkTzue.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/99_todo.html-BIBGwxZj.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_concurrent.html-CRGF88ht.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_thread_pool.html-cYC1s-cJ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_hc_system.html-CUCZFhQP.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_Indicator.html-CeqTeLbI.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_stress_test.html-B7kS3dW2.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_java_profilers.html-BGw4m35w.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_java.html-D0TB7IFq.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_db.html-DvANlB7h.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_cache.html-DGCZZMiq.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_jvm.html-Du-LD8V_.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_spring.html-C9vnzmjK.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_spring_cloud.html-BFD1ui21.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/7_mq.html-DajV_czK.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_to_be_continue.html-BC9j-kS5.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_base.html-DzAiH15s.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_solution.html-BSeakQaG.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_protocol.html-Bcjq-hBQ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_open_source.html-B9nAP5rM.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_base.html-cqn1t2ss.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_feature.html-BtgGEHAq.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-BoLG0mdg.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/jvm.html-C-zTisF-.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-CsIPdbIF.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_mq.html-DS5edIeU.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_kafka.html-BJzlMpTF.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_rocketmq.html-lTuiflXA.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_rabbitmq.html-5SaH0rBS.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/other_mq.html-CaUc8pOu.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-C-nEERR5.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_base_concept.html-DgTkFjdT.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_dis_or_advantages.html-K2Nf5L25.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_mono-to-micro.html-BIVxAfi0.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_core_component.html-Bcc2n7mH.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_devops_monitor.html-Dn5PSvr6.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_solutions.html-CXCWd_uC.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/7_microservices_patterns.html-BjwGGyMo.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/99_best_practise.html-CFPYpqAh.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_interview.html-D67AYcV7.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_stick_split.html-D6RjkbD1.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_io_model.html-Da23CJUc.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_reactor.html-Cj_3orr9.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_websocket.html-Cwf80-H4.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_sse.html-FsuxLAQR.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_netty-desc.html-xxjV8KDL.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_protocols_base.html-BPDsEbvt.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_network_communication.html-BTxLZR3D.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_iot-Industrial-ommunication.html-Br_fyOZo.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_data-exchange_remote_call.html-BSv8cns_.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_security-protocols.html-DSaKgLMu.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_file-transfer-protocols.html-CgxQeHFP.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/6_database-access-protocols.html-C0gEJbHw.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/7-email-communication-protocols.html-C_6fHkiD.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/8-distributed-system-protocols.html-CL6kk0Rz.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/0_scene.html-C0IqxDOC.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_big_data_handle.html-ZMV6w_Fy.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/99_work_star.html-0P9tvIOj.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/1_spring_framework.html-kbj6ndGG.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/2_springboot.html-BVo5T3tU.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/3_spring_security.html-CXRc2FPm.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/4_security_sa_token.html-CWrU6HmH.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/5_spring_others.html-CL7WIKIR.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/z_single_sign_on.html-C56S3u29.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/404.html-BZNmk_QJ.js" as="script"><link rel="prefetch" href="/clarence-java-doc/assets/setupDevtools-7MC2TMWH-BWbX8oU-.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/clarence-java-doc/"><img class="vp-site-logo" src="/clarence-java-doc/images/logo.png" alt="Clarence Java Doc"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Clarence Java Doc</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/interview/0_java.html" aria-label="å¼€å‘æ€»ç»“"><!---->å¼€å‘æ€»ç»“<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/java/1_base.html" aria-label="Java"><!---->Java<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/database/0_mysql.html" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/cache/1_redis.html" aria-label="ç¼“å­˜"><!---->ç¼“å­˜<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/jvm/jvm.html" aria-label="JVM"><!---->JVM<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/spring/1_spring_framework.html" aria-label="Spring"><!---->Spring<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/microservices/1_base_concept.html" aria-label="å¾®æœåŠ¡"><!---->å¾®æœåŠ¡<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/messaging/1_mq.html" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/high-concurrency/0_concurrent.html" aria-label="é«˜å¹¶å‘"><!---->é«˜å¹¶å‘<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/distributed/0_distributed.html" aria-label="åˆ†å¸ƒå¼"><!---->åˆ†å¸ƒå¼<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/high-availability/0_high_availability.html" aria-label="é«˜å¯ç”¨"><!---->é«˜å¯ç”¨<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/design-patterns/0_design.html" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/scenario/0_scene.html" aria-label="åœºæ™¯é¢˜"><!---->åœºæ™¯é¢˜<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/netty/0_stick_split.html" aria-label="Netty"><!---->Netty<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/cloud-native/1_linux.html" aria-label="äº‘åŸç”Ÿ"><!---->äº‘åŸç”Ÿ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/algorithms/0_base_0_complexity.html" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/architecture/0_system_structure.html" aria-label="ç³»ç»Ÿæ¶æ„"><!---->ç³»ç»Ÿæ¶æ„<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/protocols/0_protocols_base.html" aria-label="å¼€å‘åè®®"><!---->å¼€å‘åè®®<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/iot/0_base.html" aria-label="IOT"><!---->IOT<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/ai/0_ai.html" aria-label="äººå·¥æ™ºèƒ½"><!---->äººå·¥æ™ºèƒ½<!----></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/interview/0_java.html" aria-label="å¼€å‘æ€»ç»“"><!---->å¼€å‘æ€»ç»“<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/java/1_base.html" aria-label="Java"><!---->Java<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/database/0_mysql.html" aria-label="æ•°æ®åº“"><!---->æ•°æ®åº“<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/cache/1_redis.html" aria-label="ç¼“å­˜"><!---->ç¼“å­˜<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/jvm/jvm.html" aria-label="JVM"><!---->JVM<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/spring/1_spring_framework.html" aria-label="Spring"><!---->Spring<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/microservices/1_base_concept.html" aria-label="å¾®æœåŠ¡"><!---->å¾®æœåŠ¡<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/messaging/1_mq.html" aria-label="æ¶ˆæ¯é˜Ÿåˆ—"><!---->æ¶ˆæ¯é˜Ÿåˆ—<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/high-concurrency/0_concurrent.html" aria-label="é«˜å¹¶å‘"><!---->é«˜å¹¶å‘<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/distributed/0_distributed.html" aria-label="åˆ†å¸ƒå¼"><!---->åˆ†å¸ƒå¼<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/high-availability/0_high_availability.html" aria-label="é«˜å¯ç”¨"><!---->é«˜å¯ç”¨<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/design-patterns/0_design.html" aria-label="è®¾è®¡æ¨¡å¼"><!---->è®¾è®¡æ¨¡å¼<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/scenario/0_scene.html" aria-label="åœºæ™¯é¢˜"><!---->åœºæ™¯é¢˜<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/netty/0_stick_split.html" aria-label="Netty"><!---->Netty<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/cloud-native/1_linux.html" aria-label="äº‘åŸç”Ÿ"><!---->äº‘åŸç”Ÿ<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/algorithms/0_base_0_complexity.html" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/architecture/0_system_structure.html" aria-label="ç³»ç»Ÿæ¶æ„"><!---->ç³»ç»Ÿæ¶æ„<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/protocols/0_protocols_base.html" aria-label="å¼€å‘åè®®"><!---->å¼€å‘åè®®<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/iot/0_base.html" aria-label="IOT"><!---->IOT<!----></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/clarence-java-doc/ai/0_ai.html" aria-label="äººå·¥æ™ºèƒ½"><!---->äººå·¥æ™ºèƒ½<!----></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/clarence-java-doc/java/1_base.html" aria-label="Java åŸºç¡€"><!---->Java åŸºç¡€<!----></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading active" href="/clarence-java-doc/java/2_advanced.html" aria-label="Java é«˜çº§"><!---->Java é«˜çº§<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/clarence-java-doc/java/3_feature.html" aria-label="JAVA 8+ ç‰¹æ€§"><!---->JAVA 8+ ç‰¹æ€§<!----></a><!----></li><li><a class="route-link auto-link vp-sidebar-item vp-sidebar-heading" href="/clarence-java-doc/java/z_interview.html" aria-label="Javaæ€»ç»“-Java"><!---->Javaæ€»ç»“-Java<!----></a><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="java-é«˜çº§" tabindex="-1"><a class="header-anchor" href="#java-é«˜çº§"><span>Java é«˜çº§</span></a></h1><h2 id="ä¸€ã€æ³›å‹-generics" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€æ³›å‹-generics"><span>ä¸€ã€æ³›å‹ï¼ˆGenericsï¼‰</span></a></h2><p>è¯¦è§ï¼š<a class="route-link" href="/clarence-java-doc/interview/0_java.html#åå››ã€è¯´è¯´ä½ å¯¹æ³›å‹çš„ç†è§£">Javaæ€»ç»“-Javaï¼šåå››ã€è¯´è¯´ä½ å¯¹æ³›å‹çš„ç†è§£</a></p><h2 id="äºŒã€lambdaä¸å‡½æ•°å¼ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€lambdaä¸å‡½æ•°å¼ç¼–ç¨‹"><span>äºŒã€Lambdaä¸å‡½æ•°å¼ç¼–ç¨‹</span></a></h2><h3 id="_1ã€lambda-åº•å±‚åŸç†ä¸-å‡½æ•°å¼æ¥å£" tabindex="-1"><a class="header-anchor" href="#_1ã€lambda-åº•å±‚åŸç†ä¸-å‡½æ•°å¼æ¥å£"><span>1ã€Lambda åº•å±‚åŸç†ä¸ å‡½æ•°å¼æ¥å£</span></a></h3><p>è¯¦è§ï¼š<a class="route-link" href="/clarence-java-doc/interview/0_java.html#åäº”ã€è¯´è¯´-lambda-è¡¨è¾¾å¼çš„åº•å±‚åŸç†"> Javaæ€»ç»“-Javaï¼šåäº”ã€è¯´è¯´lambdaè¡¨è¾¾å¼çš„åº•å±‚åŸç†</a></p><h3 id="_2ã€æµå¼-api-stream-api-ä¸é›†åˆæ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#_2ã€æµå¼-api-stream-api-ä¸é›†åˆæ¡†æ¶"><span>2ã€æµå¼ APIï¼ˆStream APIï¼‰ä¸é›†åˆæ¡†æ¶</span></a></h3><p>Java 8 å¼•å…¥çš„ <strong>Stream API</strong> æä¾›äº†ä¸€ç§ <strong>å£°æ˜å¼ã€å‡½æ•°å¼é£æ ¼</strong> æ¥å¤„ç†é›†åˆæ•°æ®çš„æ–¹å¼ï¼Œä½¿å¾—å¯¹é›†åˆçš„æ“ä½œæ›´åŠ ç®€æ´ã€æ¸…æ™°å’Œæ˜“äºå¹¶è¡Œå¤„ç†ã€‚</p><p>Stream æ”¯æŒä¸°å¯Œçš„é“¾å¼æ“ä½œï¼Œä¾‹å¦‚ï¼š<strong><code>map</code>ã€<code>filter</code>ã€<code>reduce</code>ã€<code>sorted</code>ã€<code>limit</code></strong> ç­‰ï¼Œé€šè¿‡å¯¹æ•°æ®æºçš„æµæ°´çº¿å¤„ç†ï¼Œç®€åŒ–å¤æ‚é€»è¾‘çš„å®ç°ã€‚</p><h4 id="âœ…-æµçš„ç±»å‹åŠå…¶åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#âœ…-æµçš„ç±»å‹åŠå…¶åˆ†ç±»"><span>âœ… æµçš„ç±»å‹åŠå…¶åˆ†ç±»</span></a></h4><p>è¯¦è§ï¼š<a class="route-link" href="/clarence-java-doc/interview/0_java.html#åå…­ã€è¯´è¯´javaçš„stream">Javaæ€»ç»“-Javaï¼šè¯´è¯´Javaçš„stream</a></p><h4 id="âœ…-é›†åˆæ¡†æ¶ä¸-stream-çš„å¸¸è§ç»“åˆç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#âœ…-é›†åˆæ¡†æ¶ä¸-stream-çš„å¸¸è§ç»“åˆç”¨æ³•"><span>âœ… é›†åˆæ¡†æ¶ä¸ Stream çš„å¸¸è§ç»“åˆç”¨æ³•</span></a></h4><table><thead><tr><th>æ“ä½œ</th><th>ç¤ºä¾‹</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>åˆ›å»ºæµ</td><td><code>list.stream()</code></td><td>ä»é›†åˆåˆ›å»ºé¡ºåºæµ</td></tr><tr><td>éå†æ“ä½œ</td><td><code>stream.forEach(System.out::println)</code></td><td>å¯¹æ¯ä¸ªå…ƒç´ æ‰§è¡ŒæŒ‡å®šæ“ä½œ</td></tr><tr><td>è¿‡æ»¤</td><td><code>stream.filter(x -&gt; x &gt; 10)</code></td><td>è¿‡æ»¤ç¬¦åˆæ¡ä»¶çš„å…ƒç´ </td></tr><tr><td>æ˜ å°„è½¬æ¢</td><td><code>stream.map(String::toUpperCase)</code></td><td>å…ƒç´ è½¬æ¢æˆå¦ä¸€ç§å½¢å¼</td></tr><tr><td>æ”¶é›†ç»“æœ</td><td><code>stream.collect(Collectors.toList())</code></td><td>å°†æµç»“æœæ”¶é›†æˆåˆ—è¡¨ã€é›†åˆæˆ– Map</td></tr><tr><td>èšåˆç»Ÿè®¡</td><td><code>stream.count()</code>, <code>stream.max()</code></td><td>èšåˆæ•°æ®ï¼Œå¦‚æ±‚å’Œã€è®¡æ•°ã€æœ€å¤§å€¼ç­‰</td></tr></tbody></table><h4 id="âœ…-ç¤ºä¾‹ä»£ç ç‰‡æ®µ" tabindex="-1"><a class="header-anchor" href="#âœ…-ç¤ºä¾‹ä»£ç ç‰‡æ®µ"><span>âœ… ç¤ºä¾‹ä»£ç ç‰‡æ®µ</span></a></h4><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bob&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Charlie&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> upperNames <span class="token operator">=</span> names<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>name <span class="token operator">-&gt;</span> name<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">::</span><span class="token function">toUpperCase</span><span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="âœ…-å°ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-å°ç»“"><span>âœ… å°ç»“</span></a></h4><ul><li>Stream ä¸å­˜å‚¨æ•°æ®ï¼Œåªæ˜¯å¯¹æ•°æ®çš„<strong>æ“ä½œè§†å›¾</strong>ã€‚</li><li>Stream æ“ä½œåˆ†ä¸º<strong>ä¸­é—´æ“ä½œï¼ˆlazyï¼‰<strong>ä¸</strong>ç»ˆç»“æ“ä½œï¼ˆeagerï¼‰</strong>ã€‚</li><li>åˆ©ç”¨ Stream å¯æœ‰æ•ˆæå‡é›†åˆå¤„ç†ä»£ç çš„<strong>å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§</strong>ï¼ŒåŒæ—¶æ–¹ä¾¿å®ç°<strong>å¹¶è¡ŒåŒ–</strong>æ“ä½œã€‚</li></ul><p>è¿™æ˜¯å¯¹ä½ åŸå§‹å†…å®¹çš„<strong>ä¼˜åŒ–ç‰ˆ</strong>ï¼Œå¢å¼ºäº†ç»“æ„æ€§ã€ä¸“ä¸šæ€§å’Œè¡¨è¾¾å®Œæ•´åº¦ï¼Œå¹¶è¡¥å……äº†å…³é”®ç‚¹è¯´æ˜ä¸å»ºè®®é˜…è¯»è·¯çº¿ï¼š</p><h2 id="ä¸‰ã€å¤šçº¿ç¨‹ä¸å¹¶å‘ç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€å¤šçº¿ç¨‹ä¸å¹¶å‘ç¼–ç¨‹"><span>ä¸‰ã€å¤šçº¿ç¨‹ä¸å¹¶å‘ç¼–ç¨‹</span></a></h2><h3 id="_1ã€aqs-åŸç†-å¤šçº¿ç¨‹åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#_1ã€aqs-åŸç†-å¤šçº¿ç¨‹åŸºç¡€"><span>1ã€AQS åŸç† - å¤šçº¿ç¨‹åŸºç¡€</span></a></h3><p>AQSï¼ˆAbstractQueuedSynchronizerï¼‰æ˜¯ JUC åŒ…ä¸­å¤šç§åŒæ­¥å™¨ï¼ˆå¦‚ ReentrantLockã€Semaphoreã€CountDownLatch ç­‰ï¼‰çš„åŸºç¡€æ¡†æ¶ï¼Œåº•å±‚é€šè¿‡ä¸€ä¸ª FIFO çš„ç­‰å¾…é˜Ÿåˆ—ç®¡ç†çº¿ç¨‹ç«äº‰èµ„æºã€‚</p><ul><li>æ¨èé˜…è¯»ï¼š<a href="https://mp.weixin.qq.com/s/kvmX6-Iz38mG5907itEb2w" target="_blank" rel="noopener noreferrer">30 å¼ å›¾å½»åº•æŒæ¡ AQS - è‹ä¸‰è¯´æŠ€æœ¯</a></li></ul><h3 id="_2ã€çº¿ç¨‹æ± ä¸-executor-æ¡†æ¶" tabindex="-1"><a class="header-anchor" href="#_2ã€çº¿ç¨‹æ± ä¸-executor-æ¡†æ¶"><span>2ã€çº¿ç¨‹æ± ä¸ Executor æ¡†æ¶</span></a></h3><blockquote><p>ğŸ“š è¯¦è§ï¼š<a class="route-link" href="/clarence-java-doc/high-concurrency/1_thread_pool.html">ThreadPool</a></p></blockquote><h3 id="_3ã€synchronized-ä¸é”æœºåˆ¶" tabindex="-1"><a class="header-anchor" href="#_3ã€synchronized-ä¸é”æœºåˆ¶"><span>3ã€<code>synchronized</code> ä¸é”æœºåˆ¶</span></a></h3><p><code>synchronized</code> æ˜¯ Java æä¾›çš„å†…ç½®åŒæ­¥æœºåˆ¶ï¼Œç”¨äºå®ç°å¯¹å…±äº«èµ„æºçš„äº’æ–¥è®¿é—®ã€‚å…¶åº•å±‚ä¾èµ– JVM å®ç°ï¼Œéšç€ JDK çš„ä¼˜åŒ–å·²å…·å¤‡è¾ƒå¥½çš„æ€§èƒ½ã€‚</p><p>é”çš„ç§ç±»ï¼š</p><ul><li><strong>æ‚²è§‚é”/ä¹è§‚é”</strong>ï¼ˆå¦‚ <code>StampedLock</code>ï¼‰</li><li><strong>å¯é‡å…¥é”</strong>ï¼ˆ<code>ReentrantLock</code>ï¼‰</li><li><strong>è¯»å†™é”</strong>ï¼ˆ<code>ReentrantReadWriteLock</code>ï¼‰</li><li><strong>è‡ªæ—‹é”ã€åå‘é”ã€è½»é‡çº§é”</strong>ï¼ˆJVM ä¼˜åŒ–ç­–ç•¥ï¼‰</li></ul><blockquote><p>ğŸ“š è¯¦è§ï¼š<a class="route-link" href="/clarence-java-doc/high-concurrency/0_concurrent.html#äºŒã€juc-lock">Javaå¹¶å‘ï¼šäºŒã€JUC Lock</a></p></blockquote><h3 id="_4ã€volatile-ä¸å†…å­˜å¯è§æ€§" tabindex="-1"><a class="header-anchor" href="#_4ã€volatile-ä¸å†…å­˜å¯è§æ€§"><span>4ã€<code>volatile</code> ä¸å†…å­˜å¯è§æ€§</span></a></h3><ul><li><code>volatile</code> å…³é”®å­—ä¿è¯å˜é‡åœ¨å¤šä¸ªçº¿ç¨‹é—´çš„<strong>å¯è§æ€§</strong>ï¼Œå³ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å˜é‡ï¼Œå…¶ä»–çº¿ç¨‹ç«‹å³å¯è§ã€‚</li><li>åŒæ—¶ <code>volatile</code> ç¦æ­¢æŒ‡ä»¤é‡æ’åºï¼Œä¿è¯è¯»å†™é¡ºåºçš„æœ‰åºæ€§ã€‚</li><li><strong>ä¸ä¿è¯åŸå­æ€§</strong>ï¼Œæ¯”å¦‚ <code>volatile int count; count++</code> ä¸æ˜¯çº¿ç¨‹å®‰å…¨æ“ä½œã€‚</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">VolatileExample</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// å…¶ä»–çº¿ç¨‹ç«‹å³çœ‹åˆ° flag å˜åŒ–</span></span>
<span class="line">        flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Flag is true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_5ã€final-ä¸å¯¹è±¡å®‰å…¨å‘å¸ƒ" tabindex="-1"><a class="header-anchor" href="#_5ã€final-ä¸å¯¹è±¡å®‰å…¨å‘å¸ƒ"><span>5ã€<code>final</code> ä¸å¯¹è±¡å®‰å…¨å‘å¸ƒ</span></a></h3><ul><li><code>final</code> ä¿®é¥°çš„å­—æ®µåœ¨æ„é€ å‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œå…¶å€¼å¯¹å…¶ä»–çº¿ç¨‹<strong>æ˜¯å¯è§ä¸”ä¸å¯å˜çš„</strong>ã€‚</li><li>é¿å…æ„é€ è¿‡ç¨‹ä¸­å‡ºç°<strong>æŒ‡ä»¤é‡æ’åº</strong>å¸¦æ¥çš„å¯¹è±¡æœªåˆå§‹åŒ–å®Œæ¯•å³è¢«å¼•ç”¨çš„é—®é¢˜ã€‚</li><li>æ˜¯å®ç°çº¿ç¨‹å®‰å…¨ä¸å¯å˜å¯¹è±¡çš„é‡è¦ä¿è¯ã€‚</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">class</span> <span class="token class-name">FinalExample</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> value<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token class-name">FinalExample</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token comment">// å…¶ä»–çº¿ç¨‹èƒ½çœ‹åˆ°æ„é€ å®Œæˆåçš„æœ€ç»ˆå€¼</span></span>
<span class="line">        <span class="token keyword">return</span> value<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_5ã€completablefuture" tabindex="-1"><a class="header-anchor" href="#_5ã€completablefuture"><span>5ã€<code>CompletableFuture</code></span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">CompletableFuture</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CompletableFutureDemo</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">CompletableFuture</span><span class="token punctuation">.</span><span class="token function">supplyAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token string">&quot;Hello&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">thenApply</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s <span class="token operator">+</span> <span class="token string">&quot; World&quot;</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">thenAccept</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">.</span><span class="token function">exceptionally</span><span class="token punctuation">(</span>ex <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">              <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Error: &quot;</span> <span class="token operator">+</span> ex<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">              <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line">          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸Šä¾‹æ¼”ç¤ºå¼‚æ­¥è·å–å­—ç¬¦ä¸²ï¼Œé“¾å¼è°ƒç”¨è½¬æ¢å¹¶æ¶ˆè´¹ç»“æœï¼Œæ”¯æŒå¼‚å¸¸å¤„ç†ã€‚</li></ul><hr><h3 id="_6ã€futuretask-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_6ã€futuretask-ç¤ºä¾‹"><span>6ã€<code>FutureTask</code> ç¤ºä¾‹</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">Callable</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">ExecutionException</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token class-name">FutureTask</span></span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FutureTaskDemo</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> callable <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token string">&quot;Task Result&quot;</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> futureTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>callable<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Waiting for result...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token class-name">String</span> result <span class="token operator">=</span> futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// é˜»å¡ç­‰å¾…ç»“æœ</span></span>
<span class="line">        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Result: &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="_7ã€jdk-21-è™šæ‹Ÿçº¿ç¨‹ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_7ã€jdk-21-è™šæ‹Ÿçº¿ç¨‹ç¤ºä¾‹"><span>7ã€JDK 21 è™šæ‹Ÿçº¿ç¨‹ç¤ºä¾‹</span></a></h3><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VirtualThreadDemo</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token class-name">Thread</span> vt <span class="token operator">=</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">startVirtualThread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello from virtual thread: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">            vt<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è™šæ‹Ÿçº¿ç¨‹æ›´è½»é‡ï¼Œé€‚åˆå¤§é‡å¹¶å‘ IO ä»»åŠ¡ã€‚</li></ul><hr><h3 id="_8ã€å¹¶å‘è°ƒä¼˜ä¸é—®é¢˜æ’æŸ¥ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_8ã€å¹¶å‘è°ƒä¼˜ä¸é—®é¢˜æ’æŸ¥ç¤ºä¾‹"><span>8ã€å¹¶å‘è°ƒä¼˜ä¸é—®é¢˜æ’æŸ¥ç¤ºä¾‹</span></a></h3><ul><li><strong>æ­»é”</strong>ç¤ºä¾‹ï¼ˆè¦é¿å…çš„å…¸å‹ä»£ç ï¼‰ï¼š</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DeadlockDemo</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Object</span> lock1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Object</span> lock2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createDeadlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">Thread</span> t1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock1<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread 1 acquired both locks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token class-name">Thread</span> t2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock2<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">try</span> <span class="token punctuation">{</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">synchronized</span> <span class="token punctuation">(</span>lock1<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Thread 2 acquired both locks&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    t1<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    t2<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token class-name">DeadlockDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDeadlock</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>å·¥å…·ä½¿ç”¨å»ºè®®</strong>ï¼š</p><ul><li><strong>JVisualVM</strong>ï¼šå¯è§†åŒ–çº¿ç¨‹å’Œå †ä¿¡æ¯ç›‘æ§</li><li><strong>Java Flight Recorder (JFR)</strong>ï¼šè½»é‡çº§æ€§èƒ½ç›‘æ§åˆ†æ</li><li><strong>Arthas</strong>ï¼šåœ¨çº¿è¯Šæ–­ï¼ŒæŸ¥çœ‹çº¿ç¨‹æ ˆã€é”ä¿¡æ¯</li></ul></li></ul><p>å½“ç„¶ï¼Œä»¥ä¸‹æ˜¯å¯¹ä½ â€œåå°„æœºåˆ¶â€ä¸â€œæ³¨è§£ä¸å…ƒç¼–ç¨‹â€ä¸¤ä¸ªç« èŠ‚çš„è¡¥å……ï¼Œæ¶µç›–æ¦‚å¿µã€ä½¿ç”¨æ–¹å¼ã€ç¤ºä¾‹ä¸å¸¸è§åº”ç”¨ï¼Œç»“æ„æ¸…æ™°ã€å®ç”¨æ€§å¼ºï¼š</p><hr><h2 id="å››ã€åå°„æœºåˆ¶-reflection" tabindex="-1"><a class="header-anchor" href="#å››ã€åå°„æœºåˆ¶-reflection"><span>å››ã€åå°„æœºåˆ¶ï¼ˆReflectionï¼‰</span></a></h2><ul><li>è¯¦è§ï¼š <a class="route-link" href="/clarence-java-doc/interview/0_java.html#åã€åå°„çš„åŸºæœ¬åŸç†">åå°„çš„åŸºæœ¬åŸç†</a></li></ul><h2 id="äº”ã€æ³¨è§£ä¸å…ƒç¼–ç¨‹" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ³¨è§£ä¸å…ƒç¼–ç¨‹"><span>äº”ã€æ³¨è§£ä¸å…ƒç¼–ç¨‹</span></a></h2><h3 id="_1ã€æ³¨è§£çš„å®šä¹‰ä¸ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_1ã€æ³¨è§£çš„å®šä¹‰ä¸ä½¿ç”¨"><span>1ã€æ³¨è§£çš„å®šä¹‰ä¸ä½¿ç”¨</span></a></h3><p>æ³¨è§£æ˜¯ Java 5 å¼•å…¥çš„ä¸€ç§å…ƒæ•°æ®æœºåˆ¶ï¼Œç”¨äºä¿®é¥°ç±»ã€æ–¹æ³•ã€å­—æ®µç­‰ï¼Œå¸¸ç”¨äºé…ç½®å’Œæ ‡è®°ã€‚</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@MyAnnotation</span><span class="token punctuation">(</span><span class="token string">&quot;example&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€è‡ªå®šä¹‰æ³¨è§£ä¸åå°„ç»“åˆ" tabindex="-1"><a class="header-anchor" href="#_2ã€è‡ªå®šä¹‰æ³¨è§£ä¸åå°„ç»“åˆ"><span>2ã€è‡ªå®šä¹‰æ³¨è§£ä¸åå°„ç»“åˆ</span></a></h3><p>ç»“åˆåå°„è·å–æ³¨è§£ä¿¡æ¯ï¼Œå®ç°åŠ¨æ€è¡Œä¸ºï¼š</p><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token class-name">Method</span> method <span class="token operator">=</span> <span class="token class-name">MyClass</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getMethod</span><span class="token punctuation">(</span><span class="token string">&quot;doSomething&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>method<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token class-name">MyAnnotation</span> annotation <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ³¨è§£å€¼: &quot;</span> <span class="token operator">+</span> annotation<span class="token punctuation">.</span><span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€æ³¨è§£å¤„ç†å™¨-annotation-processor" tabindex="-1"><a class="header-anchor" href="#_3ã€æ³¨è§£å¤„ç†å™¨-annotation-processor"><span>3ã€æ³¨è§£å¤„ç†å™¨ï¼ˆAnnotation Processorï¼‰</span></a></h3><p>ç”¨äºåœ¨ç¼–è¯‘æœŸå¤„ç†æ³¨è§£ï¼Œç”Ÿæˆä»£ç æˆ–æ ¡éªŒé€»è¾‘ï¼Œå¹¿æ³›åº”ç”¨äº <strong>Lombokã€Daggerã€AutoValue</strong> ç­‰åº“ã€‚</p><ul><li>åŸºäº <code>javax.annotation.processing.AbstractProcessor</code></li><li>é€šè¿‡ <code>@SupportedAnnotationTypes</code>ã€<code>@SupportedSourceVersion</code> æŒ‡å®šå¤„ç†å™¨ä¿¡æ¯</li></ul><div class="language-java line-numbers-mode" data-highlighter="prismjs" data-ext="java" data-title="java"><pre><code><span class="line"><span class="token annotation punctuation">@SupportedAnnotationTypes</span><span class="token punctuation">(</span><span class="token string">&quot;com.example.MyAnnotation&quot;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token annotation punctuation">@SupportedSourceVersion</span><span class="token punctuation">(</span><span class="token class-name">SourceVersion</span><span class="token punctuation">.</span><span class="token constant">RELEASE_17</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAnnotationProcessor</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractProcessor</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token annotation punctuation">@Override</span></span>
<span class="line">    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">TypeElement</span><span class="token punctuation">&gt;</span></span> annotations<span class="token punctuation">,</span> <span class="token class-name">RoundEnvironment</span> roundEnv<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Element</span> element <span class="token operator">:</span> roundEnv<span class="token punctuation">.</span><span class="token function">getElementsAnnotatedWith</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">            processingEnv<span class="token punctuation">.</span><span class="token function">getMessager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">printMessage</span><span class="token punctuation">(</span><span class="token class-name">Diagnostic<span class="token punctuation">.</span>Kind</span><span class="token punctuation">.</span><span class="token constant">NOTE</span><span class="token punctuation">,</span> <span class="token string">&quot;å¤„ç†äº†: &quot;</span> <span class="token operator">+</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½¿ç”¨å·¥å…·</strong>ï¼šJavaPoet å¯ç”¨äºç”Ÿæˆç±»ã€æ–¹æ³•ã€å­—æ®µç­‰æºç ç»“æ„ã€‚</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1154937362@qq.com">Clarence</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: 1154937362@qq.com">hanchen</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/clarence-java-doc/java/1_base.html" aria-label="Java åŸºç¡€"><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span>Java åŸºç¡€</span></div></a><a class="route-link auto-link next" href="/clarence-java-doc/java/3_feature.html" aria-label="JAVA 8+ ç‰¹æ€§"><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span>JAVA 8+ ç‰¹æ€§</span></div></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/clarence-java-doc/assets/app-BD3_5A9s.js" defer></script>
  </body>
</html>
