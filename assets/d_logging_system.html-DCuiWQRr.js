import{_ as e,c as a,a as i,o as s}from"./app-C6dDq81u.js";const t={};function n(r,l){return s(),a("div",null,l[0]||(l[0]=[i(`<h1 id="日志架构设计" tabindex="-1"><a class="header-anchor" href="#日志架构设计"><span>日志架构设计</span></a></h1><h2 id="成熟的日志存储方案总览" tabindex="-1"><a class="header-anchor" href="#成熟的日志存储方案总览"><span>成熟的日志存储方案总览</span></a></h2><ul><li>日志系统 = 采集 + 传输 + 存储 + 查询</li><li>下面只聚焦 存储 + 查询层（成熟、被大规模验证过的）。</li></ul><hr><h1 id="成熟的日志存储方案总览-1" tabindex="-1"><a class="header-anchor" href="#成熟的日志存储方案总览-1"><span>成熟的日志存储方案总览</span></a></h1><blockquote><p>日志系统 = <strong>采集 + 传输 + 存储 + 查询</strong> 下面只聚焦 <strong>存储 + 查询层</strong>（成熟、被大规模验证过的）。</p></blockquote><hr><h2 id="一、搜索型日志存储-最常见" tabindex="-1"><a class="header-anchor" href="#一、搜索型日志存储-最常见"><span>一、搜索型日志存储（最常见）</span></a></h2><h3 id="_1️⃣-elasticsearch-opensearch-elk" tabindex="-1"><a class="header-anchor" href="#_1️⃣-elasticsearch-opensearch-elk"><span>1️⃣ Elasticsearch / OpenSearch（ELK）</span></a></h3><p><strong>成熟度：⭐⭐⭐⭐⭐</strong></p><p><strong>代表：</strong></p><ul><li>Elasticsearch</li><li>OpenSearch（AWS / 开源替代）</li></ul><p><strong>特点：</strong></p><ul><li>强全文检索</li><li>聚合能力强</li><li>生态成熟（Kibana / Beats）</li></ul><p><strong>优点：</strong></p><ul><li>模糊查询、聚合、统计都很强</li><li>非常适合运维 / 排障 / 业务分析</li></ul><p><strong>缺点：</strong></p><ul><li>成本高</li><li>索引设计复杂</li><li>高基数字段容易炸</li></ul><p><strong>适合场景：</strong></p><ul><li>中大型系统</li><li>查询复杂、分析型日志</li><li>多维度日志分析</li></ul><hr><h2 id="二、云厂商托管日志-省心型" tabindex="-1"><a class="header-anchor" href="#二、云厂商托管日志-省心型"><span>二、云厂商托管日志（省心型）</span></a></h2><h3 id="_2️⃣-aws-cloudwatch-logs" tabindex="-1"><a class="header-anchor" href="#_2️⃣-aws-cloudwatch-logs"><span>2️⃣ AWS CloudWatch Logs</span></a></h3><p><strong>成熟度：⭐⭐⭐⭐⭐</strong></p><p><strong>特点：</strong></p><ul><li>全托管</li><li>按扫描量计费</li><li>和 AWS 服务深度集成</li></ul><p><strong>优点：</strong></p><ul><li>零运维</li><li>天然高可用</li><li>权限体系完善</li></ul><p><strong>缺点：</strong></p><ul><li>查询贵</li><li>大范围查询容易卡</li><li>查询语法有限</li></ul><p><strong>适合场景：</strong></p><ul><li>全 AWS 架构</li><li>中小团队</li><li>运维人力有限</li></ul><hr><h3 id="_3️⃣-阿里云-sls-log-service" tabindex="-1"><a class="header-anchor" href="#_3️⃣-阿里云-sls-log-service"><span>3️⃣ 阿里云 SLS（Log Service）</span></a></h3><p><strong>成熟度：⭐⭐⭐⭐⭐</strong></p><p><strong>特点：</strong></p><ul><li>类 ELK 体验</li><li>云厂商优化过的日志系统</li></ul><p><strong>优点：</strong></p><ul><li>性能好</li><li>成本可控</li><li>可视化完善</li></ul><p><strong>缺点：</strong></p><ul><li>强绑定云厂商</li></ul><p><strong>适合场景：</strong></p><ul><li>阿里云生态</li><li>国内业务</li></ul><hr><h2 id="三、时间序列-标签型日志-新趋势" tabindex="-1"><a class="header-anchor" href="#三、时间序列-标签型日志-新趋势"><span>三、时间序列 / 标签型日志（新趋势）</span></a></h2><h3 id="_4️⃣-grafana-loki" tabindex="-1"><a class="header-anchor" href="#_4️⃣-grafana-loki"><span>4️⃣ Grafana Loki</span></a></h3><p><strong>成熟度：⭐⭐⭐⭐</strong></p><p><strong>特点：</strong></p><ul><li>日志 ≈ 指标</li><li>只索引标签，不索引全文</li></ul><p><strong>优点：</strong></p><ul><li>成本极低</li><li>与 Prometheus / Grafana 深度集成</li></ul><p><strong>缺点：</strong></p><ul><li>不适合复杂全文搜索</li><li>依赖标签设计</li></ul><p><strong>适合场景：</strong></p><ul><li>Kubernetes</li><li>高日志量、低查询复杂度</li><li>可观测性体系</li></ul><hr><h2 id="四、对象存储型-低成本归档" tabindex="-1"><a class="header-anchor" href="#四、对象存储型-低成本归档"><span>四、对象存储型（低成本归档）</span></a></h2><h3 id="_5️⃣-s3-oss-athena-trino" tabindex="-1"><a class="header-anchor" href="#_5️⃣-s3-oss-athena-trino"><span>5️⃣ S3 / OSS + Athena / Trino</span></a></h3><p><strong>成熟度：⭐⭐⭐⭐</strong></p><p><strong>特点：</strong></p><ul><li>日志当文件存</li><li>按需分析</li></ul><p><strong>优点：</strong></p><ul><li>极低存储成本</li><li>无限扩展</li><li>非常适合长期留存</li></ul><p><strong>缺点：</strong></p><ul><li>查询慢</li><li>实时性差</li></ul><p><strong>适合场景：</strong></p><ul><li>合规审计</li><li>历史日志</li><li>离线分析</li></ul><hr><h2 id="六、常见组合方案-真实生产最常见" tabindex="-1"><a class="header-anchor" href="#六、常见组合方案-真实生产最常见"><span>六、常见组合方案（真实生产最常见）</span></a></h2><h3 id="⭐-推荐组合-1-性价比" tabindex="-1"><a class="header-anchor" href="#⭐-推荐组合-1-性价比"><span>⭐ 推荐组合 1（性价比）</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Loki + Grafana</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="⭐-推荐组合-2-分析能力最强" tabindex="-1"><a class="header-anchor" href="#⭐-推荐组合-2-分析能力最强"><span>⭐ 推荐组合 2（分析能力最强）</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ELK / OpenSearch</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="⭐-推荐组合-3-云原生" tabindex="-1"><a class="header-anchor" href="#⭐-推荐组合-3-云原生"><span>⭐ 推荐组合 3（云原生）</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">CloudWatch Logs + S3</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="⭐-推荐组合-4-冷热分层" tabindex="-1"><a class="header-anchor" href="#⭐-推荐组合-4-冷热分层"><span>⭐ 推荐组合 4（冷热分层）</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ELK（7天） + S3（长期）</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h2 id="七、快速选型建议" tabindex="-1"><a class="header-anchor" href="#七、快速选型建议"><span>七、快速选型建议</span></a></h2><table><thead><tr><th>场景</th><th>推荐</th></tr></thead><tbody><tr><td>查询复杂</td><td>Elasticsearch</td></tr><tr><td>成本敏感</td><td>Loki</td></tr><tr><td>云托管</td><td>CloudWatch</td></tr><tr><td>长期归档</td><td>S3</td></tr><tr><td>K8s</td><td>Loki + Prometheus</td></tr></tbody></table>`,80)]))}const d=e(t,[["render",n],["__file","d_logging_system.html.vue"]]),o=JSON.parse('{"path":"/architecture/d_logging_system.html","title":"日志架构设计","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"成熟的日志存储方案总览","slug":"成熟的日志存储方案总览","link":"#成熟的日志存储方案总览","children":[]},{"level":2,"title":"一、搜索型日志存储（最常见）","slug":"一、搜索型日志存储-最常见","link":"#一、搜索型日志存储-最常见","children":[{"level":3,"title":"1️⃣ Elasticsearch / OpenSearch（ELK）","slug":"_1️⃣-elasticsearch-opensearch-elk","link":"#_1️⃣-elasticsearch-opensearch-elk","children":[]}]},{"level":2,"title":"二、云厂商托管日志（省心型）","slug":"二、云厂商托管日志-省心型","link":"#二、云厂商托管日志-省心型","children":[{"level":3,"title":"2️⃣ AWS CloudWatch Logs","slug":"_2️⃣-aws-cloudwatch-logs","link":"#_2️⃣-aws-cloudwatch-logs","children":[]},{"level":3,"title":"3️⃣ 阿里云 SLS（Log Service）","slug":"_3️⃣-阿里云-sls-log-service","link":"#_3️⃣-阿里云-sls-log-service","children":[]}]},{"level":2,"title":"三、时间序列 / 标签型日志（新趋势）","slug":"三、时间序列-标签型日志-新趋势","link":"#三、时间序列-标签型日志-新趋势","children":[{"level":3,"title":"4️⃣ Grafana Loki","slug":"_4️⃣-grafana-loki","link":"#_4️⃣-grafana-loki","children":[]}]},{"level":2,"title":"四、对象存储型（低成本归档）","slug":"四、对象存储型-低成本归档","link":"#四、对象存储型-低成本归档","children":[{"level":3,"title":"5️⃣ S3 / OSS + Athena / Trino","slug":"_5️⃣-s3-oss-athena-trino","link":"#_5️⃣-s3-oss-athena-trino","children":[]}]},{"level":2,"title":"六、常见组合方案（真实生产最常见）","slug":"六、常见组合方案-真实生产最常见","link":"#六、常见组合方案-真实生产最常见","children":[{"level":3,"title":"⭐ 推荐组合 1（性价比）","slug":"⭐-推荐组合-1-性价比","link":"#⭐-推荐组合-1-性价比","children":[]},{"level":3,"title":"⭐ 推荐组合 2（分析能力最强）","slug":"⭐-推荐组合-2-分析能力最强","link":"#⭐-推荐组合-2-分析能力最强","children":[]},{"level":3,"title":"⭐ 推荐组合 3（云原生）","slug":"⭐-推荐组合-3-云原生","link":"#⭐-推荐组合-3-云原生","children":[]},{"level":3,"title":"⭐ 推荐组合 4（冷热分层）","slug":"⭐-推荐组合-4-冷热分层","link":"#⭐-推荐组合-4-冷热分层","children":[]}]},{"level":2,"title":"七、快速选型建议","slug":"七、快速选型建议","link":"#七、快速选型建议","children":[]}],"git":{"updatedTime":1766375627000,"contributors":[{"name":"hello0709","username":"hello0709","email":"1154937362@qq.com","commits":2,"url":"https://github.com/hello0709"}]},"filePathRelative":"architecture/d_logging_system.md"}');export{d as comp,o as data};
